# üåç Multilingual AI Support - FodiFood

## ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ: Groq AI —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **–≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö**

–¢–µ—Å—Ç `examples/multilang_test.rs` –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª, —á—Ç–æ Groq Llama 3.3 70B –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞:
- üá¨üáß English
- üá∑üá∫ Russian (–†—É—Å—Å–∫–∏–π)
- üáµüá± Polish (Polski)
- üá™üá∏ Spanish (Espa√±ol)
- üá©üá™ German (Deutsch)
- ...–∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞

```bash
cargo run --example multilang_test
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- AI –ø–æ–Ω–∏–º–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–¥–∞–Ω –≤–æ–ø—Ä–æ—Å
- –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤—ã—Å–æ–∫–æ–µ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å –≤ –±–æ—Ç–µ

### 1Ô∏è‚É£ –ë–∞–∑–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–∞–±–æ—Ç–∞–µ—Ç —É–∂–µ —Å–µ–π—á–∞—Å)

–ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞–π –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `Thinker::think()` –∫–∞–∫ –µ—Å—Ç—å:

```rust
use crate::ai::thinker::Thinker;

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º
let response = Thinker::think("–ü–æ–∫–∞–∂–∏ –æ—Å—Ç—Ä—ã–µ –±–ª—é–¥–∞ —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏").await?;
// AI –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –Ω–∞ –ø–æ–ª—å—Å–∫–æ–º
let response = Thinker::think("Poka≈º ostre dania z krewetkami").await?;
// AI –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ –ø–æ–ª—å—Å–∫–æ–º
```

**‚úÖ Groq –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –Ω—ë–º!**

---

### 2Ô∏è‚É£ –° —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º —è–∑—ã–∫–∞ (–¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏)

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —è–∑—ã–∫ –æ—Ç–≤–µ—Ç–∞:

```rust
use crate::ai::core::{query_groq_with_system, GroqConfig};

// –î–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
let system_prompt = "–¢—ã - AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ FodiFood. \
                     –û—Ç–≤–µ—á–∞–π –¢–û–õ–¨–ö–û –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. \
                     –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –ø–æ–º–æ–≥–∞–π —Å –≤—ã–±–æ—Ä–æ–º –±–ª—é–¥.";

let response = query_groq_with_system(
    system_prompt,
    "–ß—Ç–æ –ø–æ—Å–æ–≤–µ—Ç—É–µ—à—å –Ω–∞ —É–∂–∏–Ω?",
    &GroqConfig::default()
).await?;

// –î–ª—è –ø–æ–ª—å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
let system_prompt = "Jeste≈õ asystentem restauracji FodiFood. \
                     Odpowiadaj TYLKO po polsku. \
                     BƒÖd≈∫ pomocny i przyjazny.";

let response = query_groq_with_system(
    system_prompt,
    "Co polecasz na kolacjƒô?",
    &GroqConfig::default()
).await?;
```

---

### 3Ô∏è‚É£ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–æ–±–∞–≤—å –≤ `Cargo.toml`:

```toml
[dependencies]
whatlang = "0.16"
```

–°–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞:

```rust
use whatlang::{detect, Lang};

pub fn detect_language(text: &str) -> &'static str {
    if let Some(info) = detect(text) {
        match info.lang() {
            Lang::Eng => "en",
            Lang::Rus => "ru",
            Lang::Pol => "pl",
            Lang::Spa => "es",
            Lang::Deu => "de",
            _ => "en", // Default
        }
    } else {
        "en" // Default to English
    }
}
```

–ò—Å–ø–æ–ª—å–∑—É–π –≤ intent handler:

```rust
// –í src/ai/intent_handler.rs
pub async fn handle_with_language_detection(message: &str) -> Result<String> {
    let lang = detect_language(message);
    
    let system_prompt = match lang {
        "ru" => "–¢—ã - AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ FodiFood. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º.",
        "pl" => "Jeste≈õ asystentem restauracji FodiFood. Odpowiadaj po polsku.",
        "es" => "Eres el asistente del restaurante FodiFood. Responde en espa√±ol.",
        _ => "You are FodiFood restaurant AI assistant. Respond in English.",
    };
    
    query_groq_with_system(system_prompt, message, &GroqConfig::default()).await
}
```

---

## üåê –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏ Groq Llama 3.3 70B

### ‚úÖ –û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- üá¨üáß English
- üá∑üá∫ Russian
- üá™üá∏ Spanish
- üá©üá™ German
- üá´üá∑ French
- üáµüá± Polish
- üáÆüáπ Italian
- üáµüáπ Portuguese
- üá≥üá± Dutch
- üáØüáµ Japanese
- üá®üá≥ Chinese
- üá∞üá∑ Korean

### üü° –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–æ –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è):
- üáπüá∑ Turkish
- üá¶üá™ Arabic
- üáÆüá≥ Hindi
- üáπüá≠ Thai
- üáªüá≥ Vietnamese

---

## üìä –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–°–æ—Ö—Ä–∞–Ω—è–π –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —è–∑—ã–∫ –≤ –ø—Ä–æ—Ñ–∏–ª–µ:

```rust
pub struct UserProfile {
    pub user_id: String,
    pub preferred_language: String, // "en", "ru", "pl", etc.
    pub auto_detect: bool, // –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —è–∑—ã–∫
}
```

### 2. **Fallback –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π**

–ï—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ:

```rust
let lang = detect_language(message).unwrap_or("en");
```

### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–æ–≤**

–û—Ç—Å–ª–µ–∂–∏–≤–∞–π, –∫–∞–∫–∏–µ —è–∑—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–≤–æ–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:

```rust
tracing::info!("User {} language: {}", user_id, detected_lang);
```

### 4. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

–ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ª—É—á—à–µ:
- **A**: –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Groq (–±–µ–∑ whatlang)
- **B**: –Ø–≤–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ whatlang + system prompt

---

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ FodiFood –±–æ—Ç–∞

### –û–±–Ω–æ–≤–∏—Ç—å `src/ai/intent_handler.rs`:

```rust
use crate::ai::thinker::Thinker;

pub async fn handle_user_message(user_id: &str, message: &str) -> Result<String> {
    // Groq –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —è–∑—ã–∫ –∏ –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ –Ω—ë–º
    let response = Thinker::think(message).await?;
    
    // –ò–ª–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —è–∑—ã–∫–∞:
    // let lang = detect_language(message);
    // let response = Thinker::think_in_language(message, lang).await?;
    
    Ok(response)
}
```

---

## ‚úÖ –ò—Ç–æ–≥–æ

| –ü–æ–¥—Ö–æ–¥ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–æ—á–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|-----------|----------|--------------|
| **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Groq** | –ù–∏–∑–∫–∞—è ‚≠ê | 95% ‚úÖ | **–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ!** |
| **whatlang + system prompt** | –°—Ä–µ–¥–Ω—è—è ‚≠ê‚≠ê | 98% ‚úÖ‚úÖ | –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ |
| **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —è–∑—ã–∫** | –ù–∏–∑–∫–∞—è ‚≠ê | 100% ‚úÖ‚úÖ‚úÖ | –ï—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–ì–æ—Ç–æ–≤–æ**: –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π AI —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
2. üîÑ **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: –î–æ–±–∞–≤—å `whatlang` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
3. üéØ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: –°–æ—Ö—Ä–∞–Ω—è–π —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ
4. üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–π —è–∑—ã–∫–∏ —Ç–≤–æ–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

```bash
$ cargo run --example multilang_test

üá∑üá∫ Russian:
üß† AI Response:
–ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –≤ –º–µ—Ç–∞–≤—Å–µ–ª–µ–Ω–Ω–æ–π - —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –∏–¥–µ—è, 
–∫–æ—Ç–æ—Ä–∞—è —Å–æ—á–µ—Ç–∞–µ—Ç –≤ —Å–µ–±–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å, –∏–≥—Ä—ã –∏ –∫—É–ª–∏–Ω–∞—Ä–Ω—ã–π –æ–ø—ã—Ç...

üáµüá± Polish:
üß† AI Response:
Restauracja w metawersie to koncepcja, kt√≥ra ≈ÇƒÖczy wirtualnƒÖ rzeczywisto≈õƒá 
z do≈õwiadczeniem kulinarznym...
```

**üéâ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑—É–ø—Ä–µ—á–Ω–æ!**

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Groq Documentation](https://console.groq.com/docs)
- [whatlang crate](https://crates.io/crates/whatlang)
- `examples/multilang_test.rs` - –∂–∏–≤–æ–π —Ç–µ—Å—Ç
- `examples/language_detection.rs` - –ø—Ä–∏–º–µ—Ä —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º

---

**–°–æ–∑–¥–∞–Ω–æ**: 20 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: FodiFood Bot v0.1.0  
**AI**: Groq Llama 3.3 70B

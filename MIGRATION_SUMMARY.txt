✅ SQL MIGRATIONS - ИСПРАВЛЕНО

📁 Файлы:
├── migrations/001_create_schemas.sql       (+ UUID extensions)
├── migrations/002_create_ai_tables.sql     (IDENTITY, GIN indexes)
├── migrations/003_create_blockchain_tables.sql (IDENTITY, GIN, FK)
├── migrations/004_create_analytics_tables.sql  (IDENTITY, GIN, matview)
├── migrations/005_create_functions.sql     (cleanup, triggers)
├── migrations/006_permissions.sql          (RBAC - optional)
└── migrate.sh                              (run all)

🔧 Исправления:
✅ SERIAL → BIGINT GENERATED BY DEFAULT AS IDENTITY
✅ INDEX ... внутри CREATE TABLE → отдельные CREATE INDEX
✅ FLOAT → DOUBLE PRECISION
✅ GIN индексы для JSONB полей
✅ NOT NULL для обязательных полей
✅ UUID auto-generation (gen_random_uuid())
✅ Foreign keys с ON DELETE
✅ Функция cleanup_expired_cache()
✅ Trigger для auto-update updated_at
✅ Materialized view для analytics

📊 Структура БД:
PostgreSQL (Neon)
├── public     - Go backend (users, businesses, orders)
├── ai         - Rust AI (cache, memory, conversations)
├── blockchain - Rust Crypto (FODI, wallets, NFTs)
└── analytics  - Rust Metrics (events, aggregations)

🚀 Запуск:
chmod +x migrate.sh && ./migrate.sh

Готово! 🎉

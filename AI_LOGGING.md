# üìù AI Activity Logging - FodiFood Bot

## ‚úÖ –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç

–í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Groq AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `ai_activity.log` –¥–ª—è:
- üêõ –û—Ç–ª–∞–¥–∫–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ AI
- üîç –ê–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤
- üìà –°–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤

---

## üìÇ –§–∞–π–ª –ª–æ–≥–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `/Users/dmitrijfomin/Desktop/bot_fodifood/ai_activity.log`

**–§–æ—Ä–º–∞—Ç –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏**:
```
------------------------------------------------------------
‚è∞ Timestamp: 2025-10-20 15:35:49 UTC
üß† Prompt: What are the top 3 seafood dishes?
üí¨ Response: Based on popularity and customer reviews...
```

---

## üè∑Ô∏è –¢–∏–ø—ã –ª–æ–≥–æ–≤ (—Ç–µ–≥–∏)

| –¢–µ–≥ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|---------|----------|
| *(–±–µ–∑ —Ç–µ–≥–∞)* | `Thinker::think()` | –û—Å–Ω–æ–≤–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ (Llama 3.3 70B) |
| `[FAST]` | `Thinker::think_fast()` | –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã (Llama 3.1 8B) |
| `[BUSINESS]` | `Thinker::analyze_business()` | –ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑ |
| `[RECOMMEND]` | `Thinker::get_ai_recommendation()` | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |

---

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
cargo run --example ai_logging_test
```

### 2Ô∏è‚É£ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
tail -f ai_activity.log
```

### 3Ô∏è‚É£ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤

```bash
cat ai_activity.log
```

### 4Ô∏è‚É£ –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑—ã
grep "\[BUSINESS\]" ai_activity.log

# –ù–∞–π—Ç–∏ –≤—Å–µ –æ—à–∏–±–∫–∏
grep "ERROR:" ai_activity.log

# –ù–∞–π—Ç–∏ –≤—Å–µ –±—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã
grep "\[FAST\]" ai_activity.log
```

### 5Ô∏è‚É£ –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏

```bash
# –û—á–∏—Å—Ç–∏—Ç—å —Ñ–∞–π–ª
> ai_activity.log

# –ò–ª–∏ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
rm ai_activity.log
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û—Ç–ª–∞–¥–∫–∞ –Ω–µ—É–¥–∞—á–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

```bash
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–∞–ª—É–µ—Ç—Å—è, —á—Ç–æ AI –æ—Ç–≤–µ—Ç–∏–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
# –ù–∞–π–¥–∏ –µ–≥–æ –∑–∞–ø—Ä–æ—Å –≤ –ª–æ–≥–µ:
grep "spicy seafood" ai_activity.log

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
üß† Prompt: [RECOMMEND] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: I want something spicy with seafood
üí¨ Response: –í—ã –∏—â–µ—Ç–µ —á—Ç–æ-—Ç–æ –æ—Å—Ç—Ä–æ–µ —Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏?...
```

### –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑–æ–≤
grep -A 5 "\[BUSINESS\]" ai_activity.log | tail -60
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

```bash
# –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤?
grep "üß† Prompt:" ai_activity.log | wc -l

# –°–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫?
grep "ERROR:" ai_activity.log | wc -l

# –°–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤?
grep "\[FAST\]" ai_activity.log | wc -l
```

---

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏ `Thinker`:

```rust
use crate::ai::thinker::Thinker;

// –í—Å–µ —ç—Ç–∏ –≤—ã–∑–æ–≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
let response1 = Thinker::think("What is paella?").await?;
let response2 = Thinker::think_fast("Quick answer").await?;
let response3 = Thinker::analyze_business(data).await?;
let response4 = Thinker::get_ai_recommendation(context, prefs).await?;
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–∞–∂–Ω–æ: –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git!

–î–æ–±–∞–≤—å –≤ `.gitignore`:

```gitignore
# AI activity logs (may contain user data)
ai_activity.log
*.log
```

### üîê –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–π `logrotate` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥
2. **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: –•—Ä–∞–Ω–∏ –ª–æ–≥–∏ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
3. **Retention policy**: –£–¥–∞–ª—è–π –ª–æ–≥–∏ —Å—Ç–∞—Ä—à–µ N –¥–Ω–µ–π
4. **GDPR compliance**: –ù–µ –ª–æ–≥–∏—Ä—É–π –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìà –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ)

–ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –¥–æ JSON-—Ñ–æ—Ä–º–∞—Ç–∞:

```rust
// –ë—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ:
fn log_activity_json(prompt: &str, response: &str) {
    let log_entry = json!({
        "timestamp": Utc::now().to_rfc3339(),
        "prompt": prompt,
        "response": response,
        "model": "llama-3.3-70b-versatile",
        "user_id": "optional",
    });
    // Write to JSON Lines format
}
```

### –ú–µ—Ç—Ä–∏–∫–∏

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤
- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞
- ID —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```bash
ls -la ai_activity.log
# –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–∞–π–ª–∞:
touch ai_activity.log
chmod 644 ai_activity.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: –õ–æ–≥ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π

**–†–µ—à–µ–Ω–∏–µ**: –†–æ—Ç–∏—Ä—É–π –ª–æ–≥–∏:

```bash
# –ê—Ä—Ö–∏–≤–∏—Ä—É–π —Å—Ç–∞—Ä—ã–π –ª–æ–≥
mv ai_activity.log ai_activity.$(date +%Y%m%d).log

# –°–æ–∂–º–∏
gzip ai_activity.20251020.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å –∫–æ–¥ –≤ `thinker.rs`:

```rust
// OpenOptions –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —Ç–∏—Ö–æ
if let Ok(mut log) = OpenOptions::new()
    .create(true)
    .append(true)
    .open("ai_activity.log")
{
    let _ = writeln!(log, "..."); // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –∑–∞–ø–∏—Å–∏
}
```

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∞

### –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å

```
------------------------------------------------------------
‚è∞ Timestamp: 2025-10-20 15:35:49 UTC
üß† Prompt: What are the top 3 seafood dishes?
üí¨ Response: Based on popularity and customer reviews, the top 3 seafood dishes are:
1. **Grilled Salmon**: A classic favorite...
2. **Shrimp Scampi**: A flavorful and savory dish...
3. **Fish and Chips**: A comforting and crispy dish...
```

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—Ä–æ—Å

```
------------------------------------------------------------
‚è∞ Timestamp: 2025-10-20 15:35:50 UTC
üß† Prompt: [FAST] What is sushi?
üí¨ Response: Sushi is a traditional Japanese dish...
```

### –ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑ (–Ω–∞ —Ä—É—Å—Å–∫–æ–º)

```
------------------------------------------------------------
‚è∞ Timestamp: 2025-10-20 15:35:53 UTC
üß† Prompt: [BUSINESS] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –±–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ FodiFood:
Sales: $50000, Orders: 250, Top dish: Paella (78 orders)
üí¨ Response: **–ê–Ω–∞–ª–∏–∑ –±–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ FodiFood**
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: ...
```

### –û—à–∏–±–∫–∞ API

```
------------------------------------------------------------
‚è∞ Timestamp: 2025-10-20 15:40:00 UTC
üß† Prompt: Test query
üí¨ Response: ERROR: Groq API error 429 Too Many Requests
```

---

## üéì Best Practices

1. ‚úÖ **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. ‚úÖ **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–∏–ø–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æÔøΩÔøΩ—ã** –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
3. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä—å –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞** (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏)
4. ‚úÖ **–û—á–∏—â–∞–π –ª–æ–≥–∏** —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
5. ‚úÖ **–ù–µ –∫–æ–º–º–∏—Ç—å** ai_activity.log –≤ Git
6. ‚úÖ **–ó–∞—â–∏—â–∞–π –ª–æ–≥–∏** –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/ai/thinker.rs` - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- `examples/ai_logging_test.rs` - –¢–µ—Å—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- `ai_activity.log` - –§–∞–π–ª —Å –ª–æ–≥–∞–º–∏ (–Ω–µ –≤ Git!)

---

**–°–æ–∑–¥–∞–Ω–æ**: 20 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: FodiFood Bot v0.1.0  
**AI**: Groq Llama 3.3 70B
